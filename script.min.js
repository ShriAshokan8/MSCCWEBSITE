document.addEventListener("DOMContentLoaded",()=>{console.log("MSC Initiative website loaded successfully!"),initializeBasicFeatures(),initMSCRunningStopwatch(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered successfully:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})})});function initializeBasicFeatures(){console.log("Basic features initialized")}function zonedUKToUtc(e){const t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second),n=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/London",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(new Date(t)),o={};for(const e of n)o[e.type]=e.value;const r=Date.UTC(Number(o.year),Number(o.month)-1,Number(o.day),Number(o.hour),Number(o.minute),Number(o.second))-t;return t-r}function initMSCRunningStopwatch(){const e=document.getElementById("mscStopwatch");if(!e)return;const t=zonedUKToUtc({year:2024,month:9,day:23,hour:17,minute:3,second:37}),n=e.querySelector('.value[data-unit="days"]'),o=e.querySelector('.value[data-unit="hours"]'),r=e.querySelector('.value[data-unit="minutes"]'),i=e.querySelector('.value[data-unit="seconds"]'),a=e=>String(e).padStart(2,"0");function c(){const e=Date.now();let c=Math.floor((e-t)/1e3);c<0&&(c=0);const d=Math.floor(c/86400),l=c%86400,s=Math.floor(l/3600),u=l-3600*s,m=Math.floor(u/60),h=u-60*m;n&&(n.textContent=String(d)),o&&(o.textContent=a(s)),r&&(r.textContent=a(m)),i&&(i.textContent=a(h))}c(),setInterval(c,1e3)}
