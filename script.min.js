function initializeBasicFeatures(){console.log("Basic features initialized")}function initNavActiveState(){const e=window.location.pathname;document.querySelectorAll(".nav-links li a").forEach(t=>{const n=t.getAttribute("href"),o=e.replace(/\/$/,"")||"/",i=n.replace(/\/$/,"")||"/";(o===i||"/"!==i&&o.startsWith(i))&&t.classList.add("is-active")})}function initScrollHeaderEffect(){const e=document.querySelector("header");if(!e)return;let t=0,n=!1;function o(){const o=window.pageYOffset||document.documentElement.scrollTop;o>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),t=o,n=!1}window.addEventListener("scroll",()=>{n||(window.requestAnimationFrame(o),n=!0)},{passive:!0}),o()}function zonedUKToUtc({year:e,month:t,day:n,hour:o=0,minute:i=0,second:a=0}){if("undefined"==typeof Intl||!Intl.DateTimeFormat||!Intl.DateTimeFormat().resolvedOptions().timeZone)return new Date(e,t-1,n,o,i,a).getTime();const r=Date.UTC(e,t-1,n,o,i,a),s=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/London",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(new Date(r)),c={};for(const e of s)c[e.type]=e.value;return r-(Date.UTC(Number(c.year),Number(c.month)-1,Number(c.day),Number(c.hour),Number(c.minute),Number(c.second))-r)}function setValueWithTick(e,t){e&&e.textContent!==t&&(e.textContent=t,e.classList.remove("ticking"),e.offsetWidth,e.classList.add("ticking"))}function initMSCRunningStopwatch(){const e=document.getElementById("mscStopwatch");if(!e)return;const t=zonedUKToUtc({year:2024,month:9,day:23,hour:17,minute:3,second:37}),n=e.querySelector('.value[data-unit="days"]'),o=e.querySelector('.value[data-unit="hours"]'),i=e.querySelector('.value[data-unit="minutes"]'),a=e.querySelector('.value[data-unit="seconds"]'),r=document.getElementById("mscStartNote"),s=e=>String(e).padStart(2,"0");let c=null;function l(){const e=Date.now();let l=Math.floor((e-t)/1e3);l<0&&(l=0);const u=Math.floor(l/86400),d=l%86400,m=Math.floor(d/3600),f=d-3600*m,h=Math.floor(f/60),g=f-60*h;setValueWithTick(n,String(u)),setValueWithTick(o,s(m)),setValueWithTick(i,s(h)),setValueWithTick(a,s(g));const v=24*u*60+60*m+h;r&&v!==c&&(r.textContent=`MSC has been running for ${u} day${1===u?"":"s"}, ${m} hour${1===m?"":"s"} and ${h} minute${1===h?"":"s"}. Started on the 23rd of September 2024 at 17:03:37 GMT/BST (Europe/London).`,c=v)}l(),setInterval(l,1e3)}document.addEventListener("DOMContentLoaded",()=>{console.log("MSC Initiative website loaded successfully!"),initializeBasicFeatures(),initMSCRunningStopwatch(),initScrollHeaderEffect(),initNavActiveState(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered successfully:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})})});